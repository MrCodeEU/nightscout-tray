# Maintainer: mrcode <your-email@example.com>
# Binary package - downloads pre-built binary from GitHub releases
pkgname=nightscout-tray-bin
pkgver=0.0.0
pkgrel=1
pkgdesc="Nightscout glucose monitoring tray application (pre-built binary)"
arch=('x86_64' 'aarch64')
url="https://github.com/mrcode/nightscout-tray"
license=('MIT')
depends=('gtk3' 'webkit2gtk' 'libappindicator-gtk3')
provides=('nightscout-tray')
conflicts=('nightscout-tray' 'nightscout-tray-git')
source_x86_64=("$pkgname-$pkgver-x86_64.tar.gz::https://github.com/mrcode/nightscout-tray/releases/download/v$pkgver/nightscout-tray-linux-amd64.tar.gz")
source_aarch64=("$pkgname-$pkgver-aarch64.tar.gz::https://github.com/mrcode/nightscout-tray/releases/download/v$pkgver/nightscout-tray-linux-arm64.tar.gz")
sha256sums_x86_64=('SKIP')
sha256sums_aarch64=('SKIP')

package() {
    cd "$srcdir"
    
    # Install binary
    install -Dm755 "nightscout-tray" "$pkgdir/usr/bin/nightscout-tray"
    
    # Install desktop file
    install -Dm644 "nightscout-tray.desktop" "$pkgdir/usr/share/applications/nightscout-tray.desktop"
    
    # Install icon
    install -Dm644 "nightscout-tray.png" "$pkgdir/usr/share/icons/hicolor/256x256/apps/nightscout-tray.png"
}
